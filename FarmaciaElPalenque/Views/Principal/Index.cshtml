@model List<FarmaciaElPalenque.Models.Productos>

@section Styles {
	<link rel="stylesheet" href="~/css/estilos.css" />
}

<h2>Productos</h2>

<table class="table">
	<thead>
		<tr>
			<th>Imagen</th>
			<th>Producto</th>
			<th>Precio</th>
			<th>Categoria</th>
            <th></th>
		</tr>
	</thead>
	<tbody>
		@foreach (var productos in Model)
		{
			<tr>
				<td>
					<img src="@(!string.IsNullOrEmpty(productos.imagenUrl) ? productos.imagenUrl : "/Images/default.png")"
						alt="@productos.nombre" style="width: 100px; height: 100px;" />
				</td>
				<td>
					<a asp-action="Detalle" asp-route-id="@productos.id">
						@productos.nombre
					</a>
				</td>
				<td>$@productos.precio.ToString("N0")</td>
				<td>@productos?.Categoria?.nombre</td>

				<td>
					<form asp-controller="Carrito" asp-action="Agregar" method="post" class="d-inline">
						<input type="hidden" name="id" value="@productos.id" />
						<input type="hidden" name="cantidad" value="1" />
						<button type="submit" class="btn btn-sm btn-primary">
							<i class="bi bi-cart-plus"></i> Agregar
						</button>
					</form>
				</td>
			</tr>
		}
	</tbody>
</table>